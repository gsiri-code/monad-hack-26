(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{63:(e,t,a)=>{"use strict";var s=a(7260);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},3870:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(5155),n=a(3735),r=a(63),l=a(2115);function i(){let{ready:e,activeAccount:t,createWallet:a,createAccount:i}=(0,n.Fl)(),o=(0,r.useRouter)(),[c,d]=(0,l.useState)(""),[u,m]=(0,l.useState)("name"),[x,h]=(0,l.useState)("");async function p(){if(!c.trim())return void h("Please enter a display name");m("creating"),h("");try{await a(),await i();let e=null==t?void 0:t.address;if(!e)throw Error("Wallet created but no address found");await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet_address:e,display_name:c.trim()})}),m("done"),setTimeout(()=>o.push("/dashboard"),1500)}catch(e){h(e instanceof Error?e.message:"Failed to create wallet"),m("name")}}return e?t?(o.push("/dashboard"),null):(0,s.jsxs)("main",{className:"flex flex-col items-center justify-center min-h-screen gap-6 px-4",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Welcome to Benmo"}),(0,s.jsx)("p",{className:"text-gray-600 text-center max-w-md",children:"Create a private wallet on Monad to send and receive payments without exposing your balances or transaction amounts."}),"name"===u&&(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-full max-w-sm",children:[(0,s.jsx)("input",{type:"text",placeholder:"Display name",value:c,onChange:e=>d(e.target.value),className:"border border-gray-300 rounded-xl px-4 py-3 text-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),x&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:x}),(0,s.jsx)("button",{onClick:p,className:"bg-blue-600 text-white px-6 py-3 rounded-xl font-medium hover:bg-blue-700",children:"Create Wallet"})]}),"creating"===u&&(0,s.jsx)("p",{className:"text-blue-600 font-medium",children:"Creating your wallet..."}),"done"===u&&(0,s.jsx)("p",{className:"text-green-600 font-medium",children:"Wallet created! Redirecting to dashboard..."})]}):(0,s.jsx)("main",{className:"flex flex-col items-center justify-center min-h-screen",children:(0,s.jsx)("p",{className:"text-gray-500",children:"Initializing Unlink..."})})}},9570:(e,t,a)=>{Promise.resolve().then(a.bind(a,3870))}},e=>{e.O(0,[372,441,255,358],()=>e(e.s=9570)),_N_E=e.O()}]);